<!DOCTYPE html>
<html lang="pt">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>Finderz</title>
    
    <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.css" />
    
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css"
    integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
    
    <script type="text/javascript" src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
    
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery-validate/1.19.1/jquery.validate.min.js"></script>
	<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery-validate/1.19.1/additional-methods.min.js"></script>
	<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery-validate/1.19.1/localization/messages_pt_BR.min.js"></script>
    
    <link rel="stylesheet" href="/Styles/Cadastro.css">
</head>

<body>

    <div class="spacer">

    </div>

    <div class="Container ">
        <div class="containerTitle">
            <h1>Cadastro</h1>
        </div>
        <div class="row">
            <div class="col">
                <form id="CadastroForm">
                    <div class="form-group">
                        <label for="Email">E-mail</label>
                        <input type="text" class="form-control" name="email" id="Email" aria-describedby="emailHelp"
                            placeholder="E-mail">
                    </div>
                    <div class="form-group">
                        <label for="username">Nickname</label>
                        <input type="text" class="form-control" name="username" id="username" placeholder="Nickname">
                    </div>
                    <div class="form-group">
                        <label for="Senha">Senha</label>
                        <input type="password" class="form-control" name="Senha" id="Senha" placeholder="Senha">
                    </div>
                    <div class="form-group">
                        <label for="Confirmar Senha">Confirmar Senha</label>
                        <input type="password" class="form-control" id="Confirmar Senha" placeholder="Confirmar Senha">
                    </div>
                    <button type="submit" class="btn btn-primary botaoCadastro">Cadastrar</button>
                </form>
            </div>
        </div>
    </div>
    <div class="BotaoVoltar">
        <a class="Subtexto" href="/Pages/Home.html"><i class="fa fa-arrow-left" aria-hidden="true"></i> Voltar</a>
    </div>

    <script type="text/javascript">

        $("#CadastroForm").validate({
			
			rules: {
				
				username: {
					required: true,
					minlength: 3, 
					maxlength: 100
				},
                email: {
					required: true,
					minlength: 3, 
					maxlength: 100
				},
				
			},
			
			submitHandler: function () {
				
				if ($.active) {
					return;
				}
				
				let opcoes = {
					
					url: "http://localhost:4000/usuario/cadastro",
					
					method: "POST",

					data: $("#CadastroForm").serialize(),
					
					success: function (resposta) {
						alert('Ok',resposta);
					},
					
					error: function () {
						alert("Deu ruim! :(");
					}
					
				};
				
				$.ajax(opcoes);
				
			}
			
		});
    </script>
</body>




</html>